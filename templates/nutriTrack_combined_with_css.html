{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>NutriTrack - Diet Planner Login</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
<link rel="stylesheet" href="{% static 'css/index2.css' %}">
<link rel="stylesheet" href="{% static 'css/index25.css' %}">
<script src = "api.js"></script>

</head>
<body>
<!-- Login/Register Page -->
<div class="container" id="auth-page">
<div class="auth-card">
<div class="sidebar">
<div class="sidebar-bg"></div>
<div class="sidebar-content">
<div class="logo">
<div class="logo-icon">
<i class="fas fa-leaf"></i>
</div>
<div class="logo-text">NutriTrack</div>
</div>
<h1>Welcome to Your Personal Diet Planner</h1>
<p>Track your nutrition, create meal plans, and achieve your health goals with our powerful diet planning tools.</p>
<div class="features">
<div class="feature-item">
<div class="feature-icon">
<i class="fas fa-check-circle"></i>
</div>
<div>Custom meal plans based on your goals</div>
</div>
<div class="feature-item">
<div class="feature-icon">
<i class="fas fa-check-circle"></i>
</div>
<div>Track macros and nutritional intake</div>
</div>
<div class="feature-item">
<div class="feature-icon">
<i class="fas fa-check-circle"></i>
</div>
<div>Access to thousands of healthy recipes</div>
</div>
</div>
</div>
</div>
<div class="main-content">
<div class="tabs">
<div class="tab active" data-tab="login">Login</div>
<div class="tab" data-tab="register">Register</div>
</div>
<!-- Login Form -->
<div class="tab-content active" id="login-content">
<div class="form-container">
<div class="alert alert-error" id="login-error"></div>
<form action="/login" id="login-form" method="post">
<div class="form-group">
<label for="login-email">Email Address</label>
<input class="form-control" id="login-email" name="email" placeholder="Enter your email" required="" type="email"/>
</div>
<div class="form-group">
<label for="login-password">Password</label>
<input class="form-control" id="login-password" name="password" placeholder="Enter your password" required="" type="password"/>
</div>
<div class="form-check">
<input id="remember-me" name="remember" type="checkbox"/>
<label for="remember-me">Remember me</label>
</div>
<button class="btn btn-primary" type="submit">Sign In</button>
<div class="divider">
<span>OR</span>
</div>
<!----
                            <button type="button" class="btn btn-google" id="google-login">
                                <i class="fab fa-google"></i> Continue with Google
                            </button>
                        -->
<div class="form-footer">
<a href="#" id="forgot-password">Forgot your password?</a>
</div>
</form>
</div>
</div>
<!-- Registration Form -->
<div class="tab-content" id="register-content">
<div class="form-container">
<div class="alert alert-error" id="register-error"></div>
<form action="/register" id="register-form" method="post">
<div class="form-group">
<label for="register-name">Full Name</label>
<input class="form-control" id="register-name" name="name" placeholder="Enter your full name" required="" type="text"/>
</div>
<div class="form-group">
<label for="register-email">Email Address</label>
<input class="form-control" id="register-email" name="email" placeholder="Enter your email" required="" type="email"/>
</div>
<div class="form-group">
<label for="register-password">Password</label>
<input class="form-control" id="register-password" name="password" placeholder="Create a password" required="" type="password"/>
</div>
<div class="form-group">
<label for="confirm-password">Confirm Password</label>
<input class="form-control" id="confirm-password" name="confirm_password" placeholder="Confirm your password" required="" type="password"/>
</div>
<div class="form-check">
<input id="terms" name="terms" required="" type="checkbox"/>
<label for="terms">I agree to the Terms and Privacy Policy</label>
</div>
<button class="btn btn-primary" type="submit">Create Account</button>
<div class="divider">
<span>OR</span>
</div>
<!-----
                            <button type="button" class="btn btn-google" id="google-register">
                                <i class="fab fa-google"></i> Sign up with Google
                            </button>
                            --->
<div class="form-footer">
                                Already have an account? <a class="switch-tab" data-tab="login" href="#">Sign in</a>
</div>
</form>
</div>
</div>
<!-- Logout Content (Initially Hidden) -->
<div class="tab-content" id="logout-content">
<div class="logout-container">
<div class="success-icon">
<i class="fas fa-check-circle"></i>
</div>
<h2>You've Been Login Successfully</h2>
<p>Thank you for using NutriTrack.</p>
</div>
</div>
</div>
</div>
</div>
<script>

function showDashboardPage() {
    document.getElementById("auth-page").style.display = "none";
    document.getElementById("dashboard-page").style.display = "block";
}
        // Tab switching functionality
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                // Only switch between login and register tabs
                if (tabId === 'login' || tabId === 'register') {
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Update active content
                    tabContents.forEach(content => {
                        if (content.id === `${tabId}-content`) {
                            content.classList.add('active');
                        } else if (content.id === 'login-content' || content.id === 'register-content') {
                            content.classList.remove('active');
                        }
                    });
                }
            });
        });
        
        // Switch tab from footer link
        document.querySelectorAll('.switch-tab').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const tabId = link.getAttribute('data-tab');
                document.querySelector(`.tab[data-tab="${tabId}"]`).click();
            });
        });
        
        // Form validation and submission
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const loginError = document.getElementById('login-error');
        const registerError = document.getElementById('register-error');
        
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Basic validation
            if (!email || !password) {
                loginError.textContent = "Please fill in all fields";
                loginError.style.display = "block";
                return;
            }
            
            // Simulate login (in production this would be a server request)
            console.log("Login submitted:", { email });
            
            // For demo purposes, show logout page
            showLogoutPage();
        });
        
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const terms = document.getElementById('terms').checked;
            
            // Basic validation
            if (!name || !email || !password || !confirmPassword) {
                registerError.textContent = "Please fill in all fields";
                registerError.style.display = "block";
                return;
            }
            
            if (password !== confirmPassword) {
                registerError.textContent = "Passwords do not match";
                registerError.style.display = "block";
                return;
            }
            
            if (!terms) {
                registerError.textContent = "You must agree to the terms";
                registerError.style.display = "block";
                return;
            }
            
            // Simulate registration (in production this would be a server request)
            console.log("Registration submitted:", { name, email });
            
            // For demo purposes, show logout page
            showLogoutPage();
        });
        
        // Google authentication
        document.getElementById('google-login').addEventListener('click', function() {
            // In a real application, this would initiate Google OAuth flow
            console.log("Google login initiated");
            
            // For demo purposes, show logout page
            showLogoutPage();
        });
        
        document.getElementById('google-register').addEventListener('click', function() {
            // In a real application, this would initiate Google OAuth flow
            console.log("Google registration initiated");
            
            // For demo purposes, show logout page
            showLogoutPage();
        });
        
        // Forgot password
        document.getElementById('forgot-password').addEventListener('click', function(e) {
            e.preventDefault();
            const email = prompt("Please enter your email to reset your password:");
            
            if (email) {
                alert(`Password reset instructions have been sent to ${email}`);
            }
        });
        
        // Back to login from logout page
        document.getElementById('back-to-login').addEventListener('click', function() {
            // Hide logout content and show login content
            document.getElementById('logout-content').classList.remove('active');
            document.getElementById('login-content').classList.add('active');
            
            // Update tabs
            tabs.forEach(tab => {
                if (tab.getAttribute('data-tab') === 'login') {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
        });
        
        // Function to show logout page
        function showLogoutPage() {
            // Hide all other content and show logout content
            tabContents.forEach(content => content.classList.remove('active'));
            document.getElementById('logout-content').classList.add('active');
            
            // Hide tabs (optional, depending on design preference)
            tabs.forEach(tab => tab.classList.remove('active'));
        }
    </script>
<div id="dashboard-page" style="display:none;"><body>
<header>
<div class="logo">
<div class="logo-icon">
<i class="fas fa-leaf"></i>
</div>
<div class="logo-text">NutriTrack</div>
</div>
<nav>
<ul>
<li><a class="active" href="#">Dashboard</a></li>
<li><a href="nutrition-tracker.html" target="">N-Track</a></li>
<li><a href="recipe.html">Recipes</a></li>
<li><a href="user2.html">Profile</a></li>
</ul>
</nav>
</header>
<main>
    <div class="card card-wide">
        <div class="card-header">
          <h2 class="card-title">Search Nutrition Info</h2>
        </div>
        <div class="form-group">
          <input type="text" id="food-query" placeholder="e.g. 2 eggs and toast" class="form-control"/>
          <button class="add-meal-btn" onclick="fetchNutrition()">Get Nutrition Info</button>
        </div>
        <div id="nutrition-result"></div>
      </div>
<div class="dashboard-header">
<h1 class="dashboard-title">Your Nutrition Dashboard</h1>
<div class="dashboard-date" id="current-date">April 11, 2025</div>
</div>
<div class="dashboard-grid">
<div class="card">
<div class="card-header">
<h2 class="card-title">Daily Calories</h2>
</div>
<div class="nutrient-progress">
<div class="nutrient-label">
<span>Consumed</span>
<span>1450 / 2000 cal</span>
</div>
<div class="progress-bar">
<div class="progress-fill" style="width: 72.5%"></div>
</div>
</div>
</div>
<div class="card">
<div class="card-header">
<h2 class="card-title">Water Intake</h2>
</div>
<div class="water-tracker">
<div class="water-glass filled"></div>
<div class="water-glass filled"></div>
<div class="water-glass filled"></div>
<div class="water-glass filled"></div>
<div class="water-glass"></div>
<div class="water-glass"></div>
<div class="water-glass"></div>
<div class="water-glass"></div>
</div>
<div class="water-counter">4/8 glasses</div>
</div>
<div class="card">
<div class="card-header">
<h2 class="card-title">Macronutrients</h2>
</div>
<div class="nutrient-progress">
<div class="nutrient-label">
<span>Protein</span>
<span>65 / 100g</span>
</div>
<div class="progress-bar">
<div class="progress-fill" style="width: 65%; background-color: #3498db"></div>
</div>
</div>
<div class="nutrient-progress">
<div class="nutrient-label">
<span>Carbs</span>
<span>150 / 250g</span>
</div>
<div class="progress-bar">
<div class="progress-fill" style="width: 60%; background-color: #f39c12"></div>
</div>
</div>
<div class="nutrient-progress">
<div class="nutrient-label">
<span>Fat</span>
<span>40 / 65g</span>
</div>
<div class="progress-bar">
<div class="progress-fill" style="width: 61.5%; background-color: #e74c3c"></div>
</div>
</div>
</div>
<div class="card card-wide">
<div class="card-header">
<h2 class="card-title">Today's Meals</h2>
</div>
<ul class="meal-list">
<li class="meal-item">
<div class="meal-name">
<span class="meal-icon">🍳</span>
<span>Breakfast: Spinach Omelette with Toast</span>
</div>
<div class="meal-calories">350 cal</div>
</li>
<li class="meal-item">
<div class="meal-name">
<span class="meal-icon">🥗</span>
<span>Lunch: Quinoa Salad with Grilled Chicken</span>
</div>
<div class="meal-calories">520 cal</div>
</li>
<li class="meal-item">
<div class="meal-name">
<span class="meal-icon">🍎</span>
<span>Snack: Apple with Almond Butter</span>
</div>
<div class="meal-calories">180 cal</div>
</li>
<li class="meal-item">
<div class="meal-name">
<span class="meal-icon">🍽️</span>
<span>Dinner: Salmon with Roasted Vegetables</span>
</div>
<div class="meal-calories">400 cal</div>
</li>
</ul>
<button class="add-meal-btn" id="add-meal-btn">Add New Meal</button>
<div class="hidden-form" id="meal-form">
<div class="form-group">
<label for="meal-type">Meal Type</label>
<select id="meal-type">
<option value="breakfast">Breakfast</option>
<option value="lunch">Lunch</option>
<option value="dinner">Dinner</option>
<option value="snack">Snack</option>
</select>
</div>
<div class="form-group">
<label for="meal-name">Meal Name</label>
<input id="meal-name" placeholder="Enter meal name" type="text"/>
</div>
<div class="form-group">
<label for="meal-calories">Calories</label>
<input id="meal-calories" placeholder="Enter calories" type="number"/>
</div>
<div class="form-buttons">
<button class="cancel-btn" id="cancel-meal">Cancel</button>
<button class="save-btn" id="save-meal">Save Meal</button>
</div>
</div>
</div>
<div class="card">
<div class="card-header">
<h2 class="card-title">Weekly Weight</h2>
</div>
<div class="chart-container" id="weight-chart">
<div class="chart-axis"></div>
<div class="chart-bar" style="left: 0%; height: 60%"></div>
<div class="chart-bar" style="left: 12.5%; height: 62%"></div>
<div class="chart-bar" style="left: 25%; height: 58%"></div>
<div class="chart-bar" style="left: 37.5%; height: 57%"></div>
<div class="chart-bar" style="left: 50%; height: 56%"></div>
<div class="chart-bar" style="left: 62.5%; height: 55%"></div>
<div class="chart-bar" style="left: 75%; height: 54%"></div>
</div>
<div class="chart-labels">
<span>Apr 5</span>
<span>Apr 6</span>
<span>Apr 7</span>
<span>Apr 8</span>
<span>Apr 9</span>
<span>Apr 10</span>
<span>Apr 11</span>
</div>
</div>
<div class="card card-tall">
<div class="card-header">
<h2 class="card-title">Weekly Diet Plan</h2>
</div>
<div class="diet-plan-day">
<div class="day-header">Monday</div>
<p>Breakfast: Greek yogurt with berries</p>
<p>Lunch: Mediterranean wrap</p>
<p>Dinner: Stir-fry vegetables with tofu</p>
</div>
<div class="diet-plan-day">
<div class="day-header">Tuesday</div>
<p>Breakfast: Avocado toast with eggs</p>
<p>Lunch: Lentil soup with quinoa</p>
<p>Dinner: Grilled fish with sweet potato</p>
</div>
<div class="diet-plan-day">
<div class="day-header">Wednesday</div>
<p>Breakfast: Smoothie bowl</p>
<p>Lunch: Chicken and vegetable salad</p>
<p>Dinner: Vegetable lasagna</p>
</div>
<div class="diet-plan-day">
<div class="day-header">Thursday</div>
<p>Breakfast: Oatmeal with nuts and fruits</p>
<p>Lunch: Tuna wrap with vegetables</p>
<p>Dinner: Turkey and vegetable stir-fry</p>
</div>
</div>
<div class="card card-wide">
<div class="card-header">
<h2 class="card-title">Nutrition Insights</h2>
</div>
<div class="chart-container" id="nutrients-chart">
<div class="chart-axis"></div>
<div class="chart-bar" style="left: 5%; height: 80%; background-color: #3498db"></div>
<div class="chart-bar" style="left: 25%; height: 65%; background-color: #f39c12"></div>
<div class="chart-bar" style="left: 45%; height: 40%; background-color: #e74c3c"></div>
<div class="chart-bar" style="left: 65%; height: 30%; background-color: #9b59b6"></div>
<div class="chart-bar" style="left: 85%; height: 50%; background-color: #1abc9c"></div>
</div>
<div class="chart-labels">
<span>Protein</span>
<span>Carbs</span>
<span>Fat</span>
<span>Sugar</span>
<span>Fiber</span>
</div>
</div>
</div>
</main>
<script></script></body></div><script>
function showDashboardPage() {
    document.getElementById("auth-page").style.display = "none";
    document.getElementById("dashboard-page").style.display = "block";
}

// Modify showLogoutPage to show dashboard instead
function showLogoutPage() {
    showDashboardPage();
}
</script></body>
</html>